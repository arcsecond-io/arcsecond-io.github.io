import{_ as e,c as a,o,ae as d}from"./chunks/framework.E0AgsPhI.js";const u=JSON.parse('{"title":"REST API Endpoints","description":"","frontmatter":{},"headers":[],"relativePath":"portals/endpoints.md","filePath":"portals/endpoints.md"}'),s={name:"portals/endpoints.md"};function i(n,t,r,l,c,p){return o(),a("div",null,[...t[0]||(t[0]=[d('<h1 id="rest-api-endpoints" tabindex="-1">REST API Endpoints <a class="header-anchor" href="#rest-api-endpoints" aria-label="Permalink to &quot;REST API Endpoints&quot;">​</a></h1><h2 id="what-are-the-api-endpoints-for-an-observatory" tabindex="-1">What are the API endpoints for an Observatory? <a class="header-anchor" href="#what-are-the-api-endpoints-for-an-observatory" aria-label="Permalink to &quot;What are the API endpoints for an Observatory?&quot;">​</a></h2><p>Every observatory has a <strong>subdomain</strong> that serves as identifier. Then, the API endpoints simply follows:</p><table tabindex="0"><thead><tr><th>Resources</th><th>Endpoint</th></tr></thead><tbody><tr><td>Observing Sites</td><td><code>https://api.arcsecond.io/&lt;subdomain&gt;/observingsites/[&lt;uuid:uuid&gt;/]</code></td></tr><tr><td>Telescopes</td><td><code>https://api.arcsecond.io/&lt;subdomain&gt;/telescopes/[&lt;uuid:uuid&gt;/]</code></td></tr><tr><td>Night Logs</td><td><code>https://api.arcsecond.io/&lt;subdomain&gt;/nightlogs/[&lt;uuid:uuid&gt;/]</code></td></tr><tr><td>Data Packages</td><td><code>https://api.arcsecond.io/&lt;subdomain&gt;/datapackages/[&lt;uuid:uuid&gt;/]</code></td></tr><tr><td>Datasets</td><td><code>https://api.arcsecond.io/&lt;subdomain&gt;/datasets/[&lt;uuid:uuid&gt;/]</code></td></tr><tr><td>Data Files</td><td><code>https://api.arcsecond.io/&lt;subdomain&gt;/datafiles/[&lt;int:pk&gt;/]</code></td></tr></tbody></table><p>Apart from the Data files (see below for accepted formats), all details endpoints are using (v4) UUIDs as identifiers.</p><h2 id="restful" tabindex="-1">RESTful ? <a class="header-anchor" href="#restful" aria-label="Permalink to &quot;RESTful ?&quot;">​</a></h2><p>All our endpoints are <strong>RESTful</strong> and browseable (in one word, these are purely resource-centric stateless endpoints with 1 URL = 1 resource, and using HTTP verbs to convey action meaning).</p><p>In action, it means, for instance (note the presence of the trailing slash):</p><table tabindex="0"><thead><tr><th>HTTP Verb</th><th>Payload ?</th><th>Endpoint</th><th>Result(s)</th></tr></thead><tbody><tr><td><code>GET</code></td><td></td><td><code>/&lt;subdomain&gt;/observingsites/</code></td><td>Get the list of all observing sites for that Observatory, including UUIDs of associated Telescopes</td></tr><tr><td><code>GET</code></td><td></td><td><code>/&lt;subdomain&gt;/telescopes/&lt;uuid&gt;/</code></td><td>Get the details of that given telescope.</td></tr><tr><td><code>POST</code></td><td>✔️</td><td><code>/&lt;subdomain&gt;/datasets/</code></td><td>Create a new dataset (<code>PUT</code> and <code>PATCH</code> not allowed on List endpoints)</td></tr><tr><td><code>PATCH</code></td><td>✔️</td><td><code>/&lt;subdomain&gt;/datapackages/&lt;uuid&gt;/</code></td><td>Partially update that given datapackage with new information</td></tr></tbody></table><p>etc.</p><h2 id="should-i-use-authentication-to-interact-with-endpoints" tabindex="-1">Should I use authentication to interact with endpoints? <a class="header-anchor" href="#should-i-use-authentication-to-interact-with-endpoints" aria-label="Permalink to &quot;Should I use authentication to interact with endpoints?&quot;">​</a></h2><p><strong>Yes, but not your auth token</strong> obtained upon login. For a simple reason: if your token is compromised or has leaked, you won&#39;t be able to login anymore to correct anything. <strong>Use one of your two personal keys:</strong> <code>api_key</code> or <code>upload_key</code>.</p><p>The first one gives a <strong>full access to your account</strong>, while the second key has a restricted scope just enough to perform an upload of data.</p><p>They are both available in your Profile&#39;s Page.</p><p>Then, include it into every HTTPS request you make with Arcsecond, in a custom header:</p><ul><li><code>&#39;X-Arcsecond-API-Authorization&#39; = &#39;Key &lt;api_key&gt;&#39;</code> or,</li><li><code>&#39;X-Arcsecond-API-Authorization&#39; = &#39;Key &lt;upload_key&gt;&#39;</code></li></ul><h2 id="how-is-data-organised" tabindex="-1">How is data organised? <a class="header-anchor" href="#how-is-data-organised" aria-label="Permalink to &quot;How is data organised?&quot;">​</a></h2><p>Data files are put inside Datasets, which are simply containers of files. When uploading with the Oort uploader tool, every local folder on disk that is being watched is transformed into a dataset in the cloud.</p><p>To each data files of FITS or XISF format, an Observation or a Calibration will be attached. Then, depending on the observation date, these observations dans calibrations are put inside Night Logs, which run from local noon to the next local noon.</p><h2 id="can-the-files-be-compressed-are-all-fits-variants-accepted" tabindex="-1">Can the files be compressed ? Are all FITS variants accepted ? <a class="header-anchor" href="#can-the-files-be-compressed-are-all-fits-variants-accepted" aria-label="Permalink to &quot;Can the files be compressed ? Are all FITS variants accepted ?&quot;">​</a></h2><p>Yes and yes. We support compressed files ending in <code>.zip</code>, <code>.gzip</code> and <code>.bzip2</code>.</p><h2 id="are-all-fits-variants-accepted-are-xisf-files-supported" tabindex="-1">Are all FITS variants accepted? Are XISF files supported? <a class="header-anchor" href="#are-all-fits-variants-accepted-are-xisf-files-supported" aria-label="Permalink to &quot;Are all FITS variants accepted? Are XISF files supported?&quot;">​</a></h2><p>Yes and yes. Any file (compressed or not) whose inferred content type is <code>FITS image data</code> or <code>xisf</code> or its inferred MIME type is <code>image/fits</code>, will be considered as FITS, respectively XISF, and its headers will be parsed.</p><p>It means you can technically upload files with the following known &#39;FITS&#39; extensions: <code>fits, fit, fts, ft, mt, imfits, imfit, uvfits, uvfit, pha, rmf, arf, rsp, pi</code>, and</p>',24)])])}const f=e(s,[["render",i]]);export{u as __pageData,f as default};
